<!DOCTYPE html>
<!--
This is a starter template page. Use this page to start your new project from
scratch. This page gets rid of all links and provides the needed markup only.
-->
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Admin</title>

    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="/public/admin/plugins/fontawesome-free/css/all.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="/public/admin/dist/css/adminlte.min.css">
</head>

<body class="hold-transition sidebar-mini">
    <div class="wrapper">

        <%- include('../../layouts/header.ejs') %>
            <%- include('../../layouts/sidebar.ejs') %>

                <div class="container p-5 align-item-center">
                    <br>
                    <h3 class="text-center">Edit Students Details</h3><br><br><br><br>
                    <!-- {{-- form-start --}} -->
                    <form action="/admin/update-class-to-subject/<%= classData.id %>" method="post" id="createProduct"
                        class="form-horizontal">

                        <% if (classData) { %>
                        <div class="row form-group ml-5">
                            <div class="col col-md-3"><label for="text-input" class="form-control-label">Teacher</label>
                            </div>
                            <div class="col-12 col-md-9">
                                <input type="text" id="name" name="name" placeholder="Text" class="form-control"
                                    value="<%= classData.class_name %>">
                            </div>
                        </div>

                        <div class="row form-group ml-5">
                            <div class="col col-md-3"><label for="text-input" class=" form-control-label">Select
                                    Subjects</label>
                            </div>
                            
                            <div class="col-12 col-md-9">
                                <% allsubjects.forEach(subject => { %>
                                <input type="checkbox" id="name" name="subjects" placeholder="Text" class="form-control"
                                    value="<%= subject.id %>"  <% classData.subjects.forEach(assignedSubject => {
                                        if (assignedSubject.id === subject.id) {
                                          %> checked <% }
                                      }); %>
                                  >
                                  <%= subject.subject_name %><br>
                                <% }); %>
                            </div>
                        </div>
                     
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary btn-md">
                                <i class="fa fa-dot-circle-o"></i>update
                            </button>
                        </div>
                        <% } else { %>
                            <p>Class not found.</p>
                          <% } %>
                    </form>
                    <!-- {{-- form-end --}} -->
                </div><br><br>

                <!-- Main Footer -->
                <footer class="main-footer">
                    <!-- To the right -->
                    <div class="float-right d-none d-sm-inline">
                        Anything you want
                    </div>
                    <!-- Default to the left -->
                    <strong>Copyright &copy; 2014-2021 <a href="https://adminlte.io">AdminLTE.io</a>.</strong> All
                    rights reserved.
                </footer>
    </div>
    <!-- ./wrapper -->

    <!-- REQUIRED SCRIPTS -->

    <!-- jQuery -->
    <script src="/public/admin/plugins/jquery/jquery.min.js"></script>
    <!-- Bootstrap 4 -->
    <script src="/public/admin/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- AdminLTE App -->
    <script src="/public/admin/dist/js/adminlte.min.js"></script>
</body>

</html>
